@inherits BlazeKit.Web.Components.IslandComponent
@code {
    public BlazeKit.Website.Components.Islands.MVVM.VMCounter ViewModel { get; set; }

    public Counter() {
        ViewModel = new BlazeKit.Website.Components.Islands.MVVM.VMCounter(this);
    }
    
    override protected void OnMount()
    {
        ViewModel = new BlazeKit.Website.Components.Islands.MVVM.VMCounter(this);
    }

    private MarkupString AsHtml(string code)
    {
        return new MarkupString(code);
    }
}
@if(ViewModel == null) {
    <p>Loading...</p>
} else {
    <article>
        <p>Counter: @ViewModel.Counter.Value</p>
        <p>Doubled: @ViewModel.Doubled.Value</p>
        <button class="btn btn-primary" @onclick:preventDefault="true" @onclick="() => ViewModel.Increment()">Increment</button>
        <button class="btn btn-primary" @onclick:preventDefault="true" @onclick="() => ViewModel.Decrement()">Decrement</button>
    </article>
}
